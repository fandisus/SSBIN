app.controller("ctrlFindings",["$scope",function(a){var c=JSON.parse($("#init").html()),d=c.paths;a.classes=c.classes;a.districts=c.districts;a.landcovers=c.landcovers;a.iucns=c.iucns;a.indos=c.indos;a.months=c.months;a.latinput={type:"lat",mode:"dms"};a.longinput={type:"long",mode:"dms"};a.findings=c.findings;a.o={};a.params={};a.pager={uri:"/specieslist",totalItems:c.totalItems,moreParams:{more:a.params}};c=[{key:"localname",text:"Local Name"},{key:"othername",text:"Other Name"},{key:"class",text:"Class"},
{key:"family",text:"Family"},{key:"genus",text:"Genus"},{key:"species",text:"Species"},{key:"commonname",text:"Common Name"},{key:"surveydate",text:"Survey Date"},{key:"latitude",text:"Latitude"},{key:"longitude",text:"Longitude"},{key:"grid",text:"Grid"},{key:"village",text:"Village"},{key:"district",text:"District"},{key:"landcover",text:"Landcover"},{key:"iucn_status",text:"IUCN Status"},{key:"indo_status",text:"Indonesia Status"},{key:"cites_status",text:"CITES Status"},{key:"data_source",text:"Data Source"},
{key:"reference",text:"Reference"},{key:"other_info",text:"Other Information"}];a.pager.filterOptions=c;a.pager.orderOptions=c;a.filter=null;a.addFilter=function(b){$("#"+b.key).css("display","");"surveydate"===b.key?(a.params.startDate=null,a.params.endDate=null):"latitude"===b.key?(a.params.startLat=null,a.params.endLat=null):"longitude"===b.key?(a.params.startLong=null,a.params.endLong=null):a.params[b.key]=null};a.removeFilter=function(b){b=b.delegateTarget.parentElement.parentElement;b.style.display=
"none";b=b.getAttribute("id");"surveydate"===b?(delete a.params.startDate,delete a.params.endDate):"latitude"===b?(delete a.params.startLat,delete a.params.endLat):"longitude"===b?(delete a.params.startLong,delete a.params.endLong):delete a.params[b]};a.pager.pageChanged=function(b){a.findings=b.findings;a.$apply()};a.getMonth=function(a){return moment(a).format("MMMM")};a.getYear=function(a){return moment(a).format("YYYY")};a.show=function(a){window.open("/specieslist?id="+a.id)};a.showMap=function(){$.redirect("/specieslist",
{a:"showMap",more:JSON.stringify(a.params),token:token},"POST")};a.icon=function(a){return 0===a.pic.length?d.pic+"no-image.svg":d.icon+a.pic[0]}}]);
